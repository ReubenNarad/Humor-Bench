<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HumorBench - Probing Non-STEM Reasoning in LLMs</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 10px 20px 20px 20px;
            background-color: #f8f9fa;
        }
        .container {
            background-color: white;
            padding: 20px 40px 40px 40px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            font-size: 2.2em;
            margin-bottom: 5px;
            text-align: center;
        }
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            font-size: 1.1em;
            margin-bottom: 15px;
            font-weight: 300;
        }
        .authors {
            text-align: center;
            margin-bottom: 10px;
            font-size: 0.9em;
            color: #555;
            line-height: 1.4;
        }
        .affiliations {
            text-align: center;
            font-size: 0.8em;
            color: #7f8c8d;
            margin-bottom: 20px;
        }
        .buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        .button {
            display: inline-block;
            padding: 10px 25px;
            text-decoration: none;
            color: white;
            border-radius: 5px;
            font-weight: 500;
            transition: all 0.3s ease;
            text-align: center;
            font-size: 0.95em;
        }
        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .button-primary {
            background-color: #3498db;
        }
        .button-primary:hover {
            background-color: #2980b9;
        }
        .button-secondary {
            background-color: #34495e;
        }
        .button-secondary:hover {
            background-color: #2c3e50;
        }
        .button-tertiary {
            background-color: #e74c3c;
        }
        .button-tertiary:hover {
            background-color: #c0392b;
        }
        .abstract {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #3498db;
        }
        .abstract h2 {
            color: #2c3e50;
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 1.4em;
        }
        .abstract p {
            margin-bottom: 10px;
            font-size: 0.95em;
            line-height: 1.5;
        }
        .abstract p:last-child {
            margin-bottom: 0;
        }
        .key-insights {
            margin: 30px 0;
        }
        .key-insights h2 {
            color: #2c3e50;
            margin-bottom: 20px;
        }
        .key-insights ul {
            list-style-type: none;
            padding: 0;
        }
        .key-insights li {
            padding: 15px;
            margin-bottom: 15px;
            background-color: #ecf0f1;
            border-radius: 5px;
            position: relative;
            padding-left: 40px;
        }
        .key-insights li:before {
            content: "âœ“";
            position: absolute;
            left: 15px;
            color: #27ae60;
            font-weight: bold;
            font-size: 1.2em;
        }
        .example-figure {
            text-align: center;
            margin: 15px 0 20px 0;
        }
        .example-figure img {
            max-width: 100%;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .footer {
            text-align: center;
            margin-top: 60px;
            padding-top: 30px;
            border-top: 1px solid #ecf0f1;
            color: #7f8c8d;
            font-size: 0.9em;
        }
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            h1 {
                font-size: 2em;
            }
            .buttons {
                flex-direction: column;
                align-items: center;
            }
            .button {
                width: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>HumorBench</h1>
        <p class="subtitle">Which LLMs Get the Joke? Probing Non-STEM Reasoning Abilities</p>
        
        <div class="authors">
            <strong>Reuben Narad</strong><sup>1</sup>, 
            <strong>Siddharth Suresh</strong><sup>2</sup>, 
            <strong>Jiayi Chen</strong><sup>2</sup>, 
            <strong>Pine S.L. Dysart-Bricken</strong><sup>1</sup>,<br>
            <strong>Bob Mankoff</strong><sup>3</sup>, 
            <strong>Robert Nowak</strong><sup>2</sup>, 
            <strong>Jifan Zhang</strong><sup>2</sup>, 
            <strong>Lalit Jain</strong><sup>1</sup>
        </div>
        
        <div class="affiliations">
            <sup>1</sup>University of Washington, Seattle &nbsp;&nbsp;
            <sup>2</sup>University of Wisconsin-Madison &nbsp;&nbsp;
            <sup>3</sup>Air Mail and Cartoon Collections
        </div>
        
        <div class="buttons">
            <a href="paper.pdf" class="button button-primary">ðŸ“„ Read the Paper</a>
            <a href="https://github.com/ReubenNarad/Humor-Bench" class="button button-secondary">ðŸ’» View on GitHub</a>
            <a href="results.html" class="button button-tertiary">ðŸ“Š Interactive Results</a>
        </div>
        
        <div class="abstract">
            <h2>Abstract</h2>
            <p>
                We present HumorBench, a benchmark designed to evaluate large language models' (LLMs) ability to reason about and explain sophisticated humor in cartoon captions. As reasoning models increasingly saturate existing benchmarks in mathematics and science, novel and challenging evaluations of model intelligence beyond STEM domains are essential.
            </p>
            <p>
                Reasoning is fundamentally involved in text-based humor comprehension, requiring the identification of connections between concepts in cartoons/captions and external cultural references, wordplays, and other mechanisms. HumorBench includes approximately 300 unique cartoon-caption pairs from the New Yorker Caption Contest and Cartoonstock.com, with expert-annotated evaluation rubrics identifying essential joke elements.
            </p>
        </div>
        
        <div class="leaderboard">
            <h2>Leaderboard</h2>
            <p style="margin-bottom: 20px; color: #7f8c8d;">Performance of current models on HumorBench (as of July 2025)</p>
            <div class="tabs">
                <button class="tab-button" id="hard-tab" onclick="switchTab('hard')">HumorBench-Hard</button>
                <button class="tab-button" id="full-tab" onclick="switchTab('full')">Full Benchmark</button>
            </div>
            <div class="table-container">
                <table id="leaderboard-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Model</th>
                            <th>Score (%)</th>
                        </tr>
                    </thead>
                    <tbody id="leaderboard-body">
                        <!-- Will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
            <div id="expand-button-container" style="text-align: center; margin-top: 15px; display: none;">
                <button id="expand-leaderboard" class="expand-button">Show All Models â–¼</button>
            </div>
            <p style="margin-top: 15px; font-size: 0.9em; color: #7f8c8d;">
                <em>Score represents the percentage of humor elements correctly identified. See our <a href="results.html">interactive results viewer</a> for detailed analysis.</em>
            </p>
        </div>

        <style>
            .leaderboard {
                margin: 20px 0 30px 0;
                padding: 25px 30px 30px 30px;
                background-color: #fff;
                border-radius: 8px;
                border: 1px solid #e1e4e8;
            }
            .leaderboard h2 {
                color: #2c3e50;
                margin-top: 0;
                margin-bottom: 10px;
            }
            .table-container {
                overflow-x: auto;
                margin: 0 -10px;
            }
            #leaderboard-table {
                width: 100%;
                border-collapse: collapse;
                min-width: 500px;
            }
            #leaderboard-table th {
                background-color: #f6f8fa;
                padding: 12px 16px;
                text-align: left;
                font-weight: 600;
                color: #24292e;
                border-bottom: 2px solid #e1e4e8;
            }
            #leaderboard-table td {
                padding: 12px 16px;
                border-bottom: 1px solid #e1e4e8;
            }
            #leaderboard-table tbody tr:hover {
                background-color: #f6f8fa;
            }
            #leaderboard-table tbody tr:first-child {
                background-color: #fff3cd;
            }
            #leaderboard-table tbody tr:first-child:hover {
                background-color: #ffeeba;
            }
            .rank-1 {
                font-weight: bold;
                color: #d4af37;
            }
            .rank-2 {
                font-weight: bold;
                color: #c0c0c0;
            }
            .rank-3 {
                font-weight: bold;
                color: #cd7f32;
            }
            .model-family-openai {
                color: #10a37f;
            }
            .model-family-anthropic {
                color: #d97757;
            }
            .model-family-google {
                color: #4285f4;
            }
            .model-family-xai {
                color: #000000;
            }
            .model-family-deepseek {
                color: #0ea5e9;
            }
            .model-family-microsoft {
                color: #5e72e4;
            }
            .expand-button {
                background-color: #f6f8fa;
                border: 1px solid #e1e4e8;
                border-radius: 6px;
                padding: 8px 20px;
                font-size: 14px;
                color: #24292e;
                cursor: pointer;
                transition: all 0.2s ease;
            }
            .expand-button:hover {
                background-color: #e1e4e8;
                transform: translateY(-1px);
            }
            .expand-button:active {
                transform: translateY(0);
            }
            .hidden-row {
                display: none;
            }
            .tabs {
                display: flex;
                gap: 10px;
                margin-bottom: 20px;
            }
            .tab-button {
                background-color: #f6f8fa;
                border: 1px solid #e1e4e8;
                border-radius: 6px;
                padding: 8px 20px;
                font-size: 14px;
                color: #24292e;
                cursor: pointer;
                transition: all 0.2s ease;
                flex: 1;
            }
            .tab-button:hover {
                background-color: #e1e4e8;
            }
            .tab-button.active {
                background-color: #0366d6;
                color: white;
                border-color: #0366d6;
            }
            @media (max-width: 768px) {
                .table-container {
                    margin: 0 -20px;
                }
                #leaderboard-table {
                    font-size: 14px;
                }
                #leaderboard-table th,
                #leaderboard-table td {
                    padding: 8px 12px;
                }
            }
        </style>

        <script>
            // Store leaderboard data
            let fullBenchmarkData = [];
            let currentTab = 'hard'; // Default to HumorBench-Hard
            let isExpanded = false;

            // Function to parse CSV
            function parseCSV(text) {
                const lines = text.trim().split('\n');
                const data = [];
                
                // Skip header and parse each line
                for (let i = 1; i < lines.length; i++) {
                    if (lines[i].trim()) {
                        // Handle potential commas in model names by parsing carefully
                        const parts = lines[i].split(',');
                        if (parts.length >= 4) {
                            data.push({
                                rank: parseInt(parts[0]),
                                name: parts[1].trim(),
                                fullScore: parseFloat(parts[2]),
                                hardScore: parseFloat(parts[3])
                            });
                        }
                    }
                }
                return data;
            }

            // Function to determine model family from name
            function getModelFamily(modelName) {
                const nameLower = modelName.toLowerCase();
                if (nameLower.includes('gpt') || nameLower.includes('o1') || nameLower.includes('o3') || nameLower.includes('o4')) {
                    return 'openai';
                } else if (nameLower.includes('claude') || nameLower.includes('opus') || nameLower.includes('sonnet')) {
                    return 'anthropic';
                } else if (nameLower.includes('gemini')) {
                    return 'google';
                } else if (nameLower.includes('grok')) {
                    return 'xai';
                } else if (nameLower.includes('llama')) {
                    return 'meta';
                } else if (nameLower.includes('qwen')) {
                    return 'qwen';
                } else if (nameLower.includes('deepseek')) {
                    return 'deepseek';
                } else if (nameLower.includes('phi')) {
                    return 'microsoft';
                }
                return 'other';
            }

            // Function to populate the table
            function populateTable(tab) {
                const tbody = document.getElementById('leaderboard-body');
                const expandButtonContainer = document.getElementById('expand-button-container');
                
                // Clear existing content
                tbody.innerHTML = '';
                
                // Sort data by the appropriate score
                const sortedData = [...fullBenchmarkData].sort((a, b) => {
                    const scoreA = tab === 'hard' ? a.hardScore : a.fullScore;
                    const scoreB = tab === 'hard' ? b.hardScore : b.fullScore;
                    return scoreB - scoreA;
                });
                
                // Re-rank based on current tab
                sortedData.forEach((model, index) => {
                    model.currentRank = index + 1;
                });
                
                // Show expand button if there are more than 10 models
                if (sortedData.length > 10) {
                    expandButtonContainer.style.display = 'block';
                } else {
                    expandButtonContainer.style.display = 'none';
                }
                
                sortedData.forEach((model, index) => {
                    const row = document.createElement('tr');
                    
                    // Add hidden class for rows beyond top 10
                    if (index >= 10 && !isExpanded) {
                        row.className = 'hidden-row';
                    }
                    
                    // Rank cell
                    const rankCell = document.createElement('td');
                    rankCell.textContent = model.currentRank;
                    if (model.currentRank <= 3) {
                        rankCell.className = `rank-${model.currentRank}`;
                    }
                    
                    // Model name cell
                    const nameCell = document.createElement('td');
                    nameCell.textContent = model.name;
                    nameCell.className = `model-family-${getModelFamily(model.name)}`;
                    
                    // Score cell
                    const scoreCell = document.createElement('td');
                    const score = tab === 'hard' ? model.hardScore : model.fullScore;
                    scoreCell.textContent = score.toFixed(1) + '%';
                    
                    row.appendChild(rankCell);
                    row.appendChild(nameCell);
                    row.appendChild(scoreCell);
                    
                    tbody.appendChild(row);
                });
            }

            // Function to switch tabs
            function switchTab(tab) {
                currentTab = tab;
                
                // Update tab button states
                document.getElementById('hard-tab').classList.toggle('active', tab === 'hard');
                document.getElementById('full-tab').classList.toggle('active', tab === 'full');
                
                // Repopulate table
                populateTable(tab);
            }

            // Initialize the page
            document.addEventListener('DOMContentLoaded', function() {
                // Load CSV data
                fetch('leaderboard.csv')
                    .then(response => {
                        if (!response.ok) {
                            throw new Error(`HTTP error! status: ${response.status}`);
                        }
                        return response.text();
                    })
                    .then(text => {
                        console.log('CSV loaded successfully');
                        console.log('First few lines:', text.substring(0, 200));
                        
                        fullBenchmarkData = parseCSV(text);
                        console.log('Parsed data:', fullBenchmarkData);
                        
                        // Set initial tab to hard
                        switchTab('hard');
                        
                        // Add click handler for expand/collapse
                        const expandButton = document.getElementById('expand-leaderboard');
                        if (expandButton) {
                            expandButton.addEventListener('click', function() {
                                isExpanded = !isExpanded;
                                
                                const hiddenRows = document.querySelectorAll('.hidden-row');
                                hiddenRows.forEach(row => {
                                    if (isExpanded) {
                                        row.style.display = 'table-row';
                                    } else {
                                        row.style.display = 'none';
                                    }
                                });
                                
                                // Update button text
                                expandButton.textContent = isExpanded ? 'Show Top 10 Only â–²' : 'Show All Models â–¼';
                            });
                        }
                    })
                    .catch(error => {
                        console.error('Error loading leaderboard data:', error);
                        document.getElementById('leaderboard-body').innerHTML = 
                            '<tr><td colspan="3" style="text-align: center; color: red;">Error loading leaderboard data. Please check console for details.</td></tr>';
                    });
            });
        </script>

        <div class="key-insights">
            <h2>Key Findings</h2>
            <ul>
                <li>LLM progress on STEM reasoning transfers effectively to humor comprehension</li>
                <li>Models trained exclusively on STEM reasoning data still perform well on HumorBench, demonstrating strong transferability of reasoning abilities</li>
                <li>Test-time scaling by increasing thinking token budgets yields mixed results across different models in humor reasoning</li>
                <li>On HumorBench-hard, which features more complex examples requiring multiple reasoning steps or obscure cultural knowledge, no current LLM exceeds 50% accuracy</li>
            </ul>
        </div>

        <div class="how-it-works">
            <h2>How HumorBench Works</h2>
            <div class="figure-container">
                <img src="humorbench_intro.jpg" alt="HumorBench Overview" style="max-width: 60%; height: auto; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin: 20px auto; display: block;">
            </div>
            <p>
                HumorBench takes a fundamentally different approach to evaluating humor understanding in AI. While previous benchmarks often conflate two distinct challengesâ€”understanding what makes something intended to be funny (objective comprehension) versus finding it amusing (subjective appreciation)â€”we focus exclusively on the former.
            </p>
            
            <h3>The Task</h3>
            <p>
                Given a textual description of a cartoon and its caption, models must explain <em>what</em> the joke is, identifying the specific connections and mental leaps required to understand the humor. For instance, recognizing that "Death" playing chess references both the literal game and the metaphorical "chess match with death," or understanding how a swimming person might be interpreted as "groceries" from a shark's perspective.
            </p>
            
            <h3>What Makes HumorBench Different</h3>
            <ul style="list-style-type: disc; padding-left: 30px;">
                <li><strong>Objective vs. Subjective:</strong> We separate humor comprehension (understanding the intended joke) from humor appreciation (finding it funny). Our benchmark measures whether models can identify the factual elements that create the humor, not whether they align with human preferences about what's amusing.</li>
                
                <li><strong>Expert-Annotated Elements:</strong> Each cartoon-caption pair is annotated with 1-3 concise "elements"â€”the essential objective components needed to understand the joke. These serve as a rubric for evaluation, ensuring consistent and fair assessment.</li>
                
                <li><strong>Open-Ended Generation:</strong> Unlike multiple-choice formats that can hint at answers, models must generate free-form explanations, better reflecting real understanding.</li>
                
                <li><strong>Sophisticated Humor:</strong> We use New Yorker Caption Contest winners and top Cartoonstock cartoonsâ€”sources known for dry, witty humor requiring cultural knowledge, wordplay recognition, and complex reasoning.</li>
                
                <li><strong>Automatic Grading at Scale:</strong> Our LLM-based autograder achieves 92% agreement with human judges, enabling large-scale evaluation while maintaining quality.</li>
            </ul>
            
            <p>
                This approach reveals that humor comprehension is fundamentally a reasoning task. Models must connect visual elements, caption text, and external knowledgeâ€”making the same kinds of logical leaps required in STEM domains, but applied to cultural and linguistic contexts.
            </p>
        </div>
        
        <style>
            .how-it-works {
                margin: 50px 0;
                padding: 30px;
                background-color: #f8f9fa;
                border-radius: 8px;
            }
            .how-it-works h2 {
                color: #2c3e50;
                margin-bottom: 20px;
            }
            .how-it-works h3 {
                color: #34495e;
                margin-top: 25px;
                margin-bottom: 15px;
            }
            .figure-container {
                text-align: center;
                margin: 30px 0;
            }
            .how-it-works ul {
                margin: 20px 0;
            }
            .how-it-works li {
                margin-bottom: 12px;
                line-height: 1.8;
            }
            .how-it-works p {
                margin-bottom: 15px;
                line-height: 1.8;
            }
        </style>
        
        <div class="footer">
            <p>Correspondence: <a href="mailto:rnarad@uw.edu">rnarad@uw.edu</a>, <a href="mailto:jifan@cs.wisc.edu">jifan@cs.wisc.edu</a></p>
        </div>
    </div>
</body>
</html>